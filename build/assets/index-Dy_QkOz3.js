import{j,k as N,m as V,p as B,R as M,O as L,c as q,o as W}from"./app-DVvTTSt_.js";/**
 * Vue Number Format 3.34.1
 * (c) 2021-2025 Dipak Sarkar <hello@dipaksarkar.in> (https://dipaksarkar.in/)
 * @license MIT
 */var R={prefix:"",suffix:"",separator:",",decimal:".",inputmode:"numeric",precision:2,minimumFractionDigits:null,prefill:!0,reverseFill:!1,min:null,max:null,nullValue:""};function I(e){return t=0,n=e,u=20,Math.max(t,Math.min(n,u));var t,n,u}class y{options;input;number;isClean;isCustomDecimal;noPreSuffix;hasPreOrSuffix;prefix;preSufRegExp;prefixRegExp;suffixRegExp;numberRegExp;cleanRegExp;negativeRegExp;constructor(t){this.options=Object.assign(F(R),t);const{prefix:n,suffix:u,decimal:s,reverseFill:l}=this.options;this.input="",this.number="",this.isClean=!l;const r=n,i=u,o=r.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),a=i.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&");o&&(this.prefixRegExp=new RegExp(`^${o}`)),a&&(this.suffixRegExp=new RegExp(`${a}$`)),this.prefix=n,this.numberRegExp=new RegExp(`[^0-9\\${s||"."}]+`,"gi"),this.cleanRegExp=new RegExp("[^0-9]+","gi"),this.negativeRegExp=new RegExp("[^0-9\\-]+","gi"),this.isCustomDecimal=s!==".",this.noPreSuffix=!r&&!i,this.hasPreOrSuffix=!this.noPreSuffix}isNull(){return!this.numberOnly(this.isClean?this.cleanRegExp:this.negativeRegExp)}clean(t=!1){return this.isClean=t,this}sign(){if(this.input===null||this.input===void 0)return"";const t=this.input.toString().indexOf(d)>=0;return this.isClean?t&&this.realNumber()>0?d:"":t?d:""}toFixed(){const t=Math.pow(10,this.options.precision);return(parseFloat(this.numberOnly(/\D+/g))/t||0).toFixed(I(this.options.precision))}toNumber(t){return Number(t)}numberOnly(t){let n=this.input?.toString();return this.prefixRegExp&&(n=n.replace(this.prefixRegExp,"")),this.suffixRegExp&&(n=n.replace(this.suffixRegExp,"")),n.replace(t||this.numberRegExp,"")}inputWithPreOrSuffix(){return this.input&&this.prefixRegExp?this.prefixRegExp.test(this.input.toString()):!this.input||!this.suffixRegExp||this.suffixRegExp.test(this.input.toString())}isNegative(){return this.sign()===d}isNumber(t){return!isNaN(this.toNumber(t||this.input))}numbers(){const{reverseFill:t,decimal:n,separator:u}=this.options;if(t)this.number=this.toFixed().replace(".",n);else{const s=this.input?.toString().replace(this.prefixRegExp??"","").replace(this.suffixRegExp??"","").replace(new RegExp(d,"g"),""),l=this.input.toString().indexOf(n)>=0&&this.isCustomDecimal;let r=s;u&&(r=r.replace(new RegExp(`\\${u}`,"g"),"")),r=r.replace(n,"."),typeof this.input=="number"||this.isNumber()&&!l&&!this.inputWithPreOrSuffix()&&this.hasPreOrSuffix?this.number=this.parts(s,".").join(n):this.isNumber(r)&&!l&&this.inputWithPreOrSuffix()&&this.hasPreOrSuffix?this.number=this.parts(r,".").join(n):this.number=this.parts(this.numberOnly()).join(n)}return this.number}unformatNumber(){return this.numbers().toString().replace(this.options.decimal,".")}realNumber(){return parseFloat(this.unformatNumber())}parts(t,n){const{precision:u,minimumFractionDigits:s,decimal:l}=this.options;let r=t.toString().split(n||l);if(r.length>1&&(r[0]=this.toNumber(r[0])||0,r[1]=r.slice(1,r.length).join(""),r=r.slice(0,2)),this.isClean){const i=this.toNumber(r.join(".")).toFixed(u),o=this.toNumber(i),a=o.toFixed(s);r=s>=0&&o.toString().length<a.length?a.toString().split("."):o.toString().split(".")}return r.slice(0,2)}addSeparator(){const{decimal:t,separator:n}=this.options,u=this.numbers().split(t);return u[0]=u[0].toString().replace(/(\d)(?=(?:\d{3})+\b)/gm,`$1${n}`),u.join(t)}format(t){this.input=t;const{reverseFill:n,nullValue:u,prefix:s,suffix:l}=this.options;return this.isNull()&&!n?u:this.sign()+s+this.addSeparator()+l}unformat(t){this.input=t;const{reverseFill:n,nullValue:u}=this.options,s=this.realNumber(),l=this.unformatNumber();return this.isNull()||n&&s===0?u:this.sign()+l}}const d="-";function F(e){return JSON.parse(JSON.stringify(e))}function S(e){return new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:{facade:!0}})}function b(e){const t=e instanceof HTMLInputElement?e:e.querySelector("input");if(!t)throw new Error("number directive requires an input element");return t}function $(e,t){const n=()=>{e.setSelectionRange(t,t)};n(),setTimeout(n,1)}function x(e,t,{emit:n=!0,force:u=!1,clean:s=!1}={}){const{options:l,oldValue:r}=e,{reverseFill:i,max:o,min:a}=l,f=t?.props?.value||e.value;if(u||r!==f){const p=new y(l).clean(s&&!i);let c=p.format(f),h=p.clean(!i).unformat(f);s&&(Number(o)===o&&Number(h)>o?(c=p.format(o),h=o.toString()):Number(a)===a&&Number(h)<a&&(c=p.format(a),h=a.toString())),e.oldValue=c,e.unmasked=h,e.value!==c&&(e.value=c)}return n&&e.dispatchEvent(S("input"))}var J={beforeMount:(e,{value:t,modifiers:n},u)=>{e=b(e);const s=Object.assign(F(R),t,n),{reverseFill:l,precision:r,decimal:i,inputmode:o}=s;e.options=s,e.setAttribute("inputmode",o),l&&e.value?(e.value=parseFloat(new y({...s,reverseFill:!1}).unformat(e.value)).toFixed(r),u?.props?.value&&(u.props.value=e.value)):e.value&&!isNaN(Number(e.value))&&(e.value=e.value.replace(".",i)),x(e,u,{force:s.prefill,clean:!0,emit:!1})},mounted:e=>{const t=(e=b(e)).parentElement||e,n=l=>{l.target===e&&(function(r){const{target:i,detail:o}=r;if(o?.facade)return!1;r.stopPropagation();let a=i.value.length;const{oldValue:f,options:p}=i;i.selectionEnd&&(a=i.value.length-i.selectionEnd),x(i,null,{clean:!p.precision,emit:!1}),p.suffix&&(a=Math.max(a,p.suffix.length)),a=i.value.length-a,p.prefix&&(a=Math.max(a,p.prefix.length)),$(i,a),f!==i.value&&i.dispatchEvent(S("input"))})(l)},u=l=>{l.target===e&&(function(r){const{target:i}=r,{oldValue:o}=i;x(i,null,{force:!0,clean:!0,emit:!1}),o!==i.value&&i.dispatchEvent(S("input"))})(l)},s=l=>{l.target===e&&(function(r,i){const{options:o}=i,{prefix:a,suffix:f,decimal:p,min:c,separator:h}=o,{key:E}=r,D=new RegExp(`${a}|${f}`,"g"),w=i.value.replace(D,""),C=c===void 0||Number(c)<0||Number(c)!==c;if(E===p)w.includes(p)?r.preventDefault():w||(i.value="0",i.dispatchEvent(new Event("input")));else if(E!==d||C){if(E==="Backspace"){const v=i.selectionEnd||0,O=i.value.slice(v-1,v),P=i.value.slice(v-2,v);let g=i.value.length-v;[a,d,h].includes(O)&&(r.preventDefault(),i.value=O===h?i.value.replace(P,""):i.value.replace(new RegExp(`[${a}${d}]`,"g"),""),g=Math.max(g,f.length),g=i.value.length-g,g=Math.max(g,a.length),$(i,g),i.dispatchEvent(new Event("input")))}}else r.preventDefault()})(l,e)};t.addEventListener("input",n,!0),t.addEventListener("blur",u,!0),t.addEventListener("keydown",s,!0),e.cleanup=()=>{t.removeEventListener("input",n,!0),t.removeEventListener("blur",u,!0),t.removeEventListener("keydown",s,!0)}},updated:(e,{value:t,oldValue:n,modifiers:u},s)=>{if(e=b(e),t!==n){const l=e.options;e.options=Object.assign(l,t,u),x(e,s,{force:!0,clean:!1,emit:!1})}else x(e,s,{emit:!1})},unmounted:e=>{b(e)?.cleanup()}};const m=F(R);var k=j({name:"VueNumber",directives:{number:J},props:{modelValue:{type:[String,Number],required:!0},nullValue:{type:[Number,String],default:m.nullValue},masked:Boolean,readonly:Boolean,disabled:Boolean,reverseFill:{type:Boolean,default:m.reverseFill},prefill:{type:Boolean,default:m.prefill},precision:{type:Number,default:()=>m.precision},minimumFractionDigits:{type:Number,default:()=>m.minimumFractionDigits},decimal:{type:String,default:()=>m.decimal},min:{type:Number,default:()=>m.min},max:{type:Number,default:()=>m.max},separator:{type:String,default:()=>m.separator},prefix:{type:String,default:()=>m.prefix},suffix:{type:String,default:()=>m.suffix},inputmode:{type:String,default:()=>m.inputmode}},emits:["update:model-value","input:model-value"],setup(e,{emit:t}){const n=N(e.modelValue),u=N(!1),s=N(""),l=V((()=>({...e}))),r=new y(l.value),i=V((()=>e.masked?r.format(n.value):s.value)),o=()=>{t("update:model-value",i.value)};return B((()=>e.modelValue),(a=>{i.value!==a&&(n.value=r.format(a))})),{config:l,maskedValue:n,unmaskedValue:s,input:a=>{const{target:f}=a;n.value=f.value,s.value=f.unmasked,u.value=!0,t("input:model-value",i.value)},blur:()=>{u.value&&i.value!==e.modelValue&&o()},change:o}}});const T=["value","readonly","disabled"];k.render=function(e,t,n,u,s,l){const r=M("number");return L((W(),q("input",{type:"text",autocomplete:"off",value:e.maskedValue,readonly:e.readonly,disabled:e.disabled,class:"v-number vue-number-format",onChange:t[0]||(t[0]=(...i)=>e.change&&e.change(...i)),onInput:t[1]||(t[1]=(...i)=>e.input&&e.input(...i)),onBlur:t[2]||(t[2]=(...i)=>e.blur&&e.blur(...i))},null,40,T)),[[r,e.config]])},k.__file="src/component.vue";export{J as v};
