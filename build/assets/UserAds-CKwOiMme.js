import{_ as h,c as o,o as n,b as s,a as d,w as l,r as i,f as m,d as _,t as a,F as y,u as A}from"./app-DVvTTSt_.js";import{a as g}from"./AdsPreviewComponent-CHZfV-Gy.js";import"./images-DnLiIPx2.js";import"./ads-DDty5fC4.js";import"./KZLocation-DLYATfpV.js";const w={name:"Index",components:{adsPreviewComponent:g},data(){return{authStore:A(),query:!1,ads_arr:{},user_data:!1}},methods:{async getAds(){this.query=!0,this.ads_arr={},this.user_data="",axios.get("/getUserAds",{params:{author_id:this.$route.params.author_id}}).then(e=>{this.query=!1,this.ads_arr=e.data.allAds,this.user_data=e.data.userData}).catch(e=>{this.query=!1,Toast.fire({icon:"error",title:"Ошибка"})})}},mounted(){document.querySelector(":root").classList.add("PATCH_modal"),this.getAds()},beforeRouteLeave(e,t,u){document.querySelector(":root").classList.remove("PATCH_modal"),u()}},k={class:"userAds__wrapper"},b={class:"userAds__block"},x={class:"userAds__header"},q={class:"d-flex align-items-center ml-n2"},C={key:0},D={class:"fw-bold"},T={key:0,class:"small px-1"},N={key:1,class:"small px-1"},S={style:{"font-size":"0.7em"}},z={class:"userAds__body"},L={key:0,class:"d-flex justify-content-center"},V={key:1,class:"text-center text-muted my-3"};function $(e,t,u,B,r,F){const c=i("v-icon"),p=i("v-btn"),f=i("ads-preview-component"),v=i("router-view");return n(),o(y,null,[s("div",k,[s("div",b,[s("div",x,[d(p,{icon:"",dark:"",variant:"text",class:"ml-2",onClick:t[0]||(t[0]=P=>e.$router.back())},{default:l(()=>[d(c,{size:"large"},{default:l(()=>[...t[1]||(t[1]=[m("mdi-arrow-left",-1)])]),_:1})]),_:1}),s("div",q,[d(c,{size:"x-large",style:{"font-size":"3em"},class:"mx-1"},{default:l(()=>[...t[2]||(t[2]=[m("mdi-account-circle",-1)])]),_:1}),s("div",null,[r.user_data?(n(),o("div",C,[s("span",D,a(r.user_data.name),1),new Date(r.user_data.last_active).getTime()>new Date().getTime()-6e4?(n(),o("span",T,a(e.$t("userAdsOnline")),1)):(n(),o("span",N,a(e.$t("userAdsWas"))+" "+a(e.$filters.transformDateRu(r.user_data.last_active)),1))])):_("",!0),s("div",S,a(e.$t("userAdsOnLaimWith"))+" "+a(e.$filters.transformDateRu(r.user_data.created_at)),1)])])]),s("div",z,[r.query?(n(),o("div",L,[...t[3]||(t[3]=[s("div",{class:"spinner-border spinner-border-sm",role:"status"},null,-1)])])):_("",!0),d(f,{ads_arr:r.ads_arr},null,8,["ads_arr"]),r.ads_arr!=null&&r.ads_arr.length<1?(n(),o("div",V,[s("h5",null,a(e.$t("userAdsAdsNotFound")),1)])):_("",!0)])])]),d(v)],64)}const W=h(w,[["render",$],["__scopeId","data-v-0aa924e7"]]);export{W as default};
